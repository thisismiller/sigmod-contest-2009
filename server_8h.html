<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: server.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_36b8392f34632a1ca749bfdcc2bcc336.html">sigmod-contest-2009</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">server.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_key.html">Key</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_record.html">Record</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a58fffb055ae1b24f4d84fbd5be4c9899" id="r_a58fffb055ae1b24f4d84fbd5be4c9899"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58fffb055ae1b24f4d84fbd5be4c9899">MAX_PAYLOAD_LEN</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a58fffb055ae1b24f4d84fbd5be4c9899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547666ca254a1101bbcdcea92b6afc20" id="r_a547666ca254a1101bbcdcea92b6afc20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a547666ca254a1101bbcdcea92b6afc20">MAX_VARCHAR_LEN</a>&#160;&#160;&#160;128</td></tr>
<tr class="separator:a547666ca254a1101bbcdcea92b6afc20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a4b5b0c554be7fd5f61be8d47969f863d" id="r_a4b5b0c554be7fd5f61be8d47969f863d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a></td></tr>
<tr class="separator:a4b5b0c554be7fd5f61be8d47969f863d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc666b2db4911d18d123a5b4a0eec84c" id="r_afc666b2db4911d18d123a5b4a0eec84c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a></td></tr>
<tr class="separator:afc666b2db4911d18d123a5b4a0eec84c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d725b4aff7c0517845ef965effeff8" id="r_ab9d725b4aff7c0517845ef965effeff8"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9d725b4aff7c0517845ef965effeff8">ErrCode</a></td></tr>
<tr class="separator:ab9d725b4aff7c0517845ef965effeff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebca81f4ddfb9b7666ad58d35d0f7300" id="r_aebca81f4ddfb9b7666ad58d35d0f7300"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="#aab0feaba617470cb4aa830dc5935238c">KeyType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aebca81f4ddfb9b7666ad58d35d0f7300">KeyType</a></td></tr>
<tr class="separator:aebca81f4ddfb9b7666ad58d35d0f7300"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a072137da885565f4c2f9e9116485659a" id="r_a072137da885565f4c2f9e9116485659a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> </td></tr>
<tr class="separator:a072137da885565f4c2f9e9116485659a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab0feaba617470cb4aa830dc5935238c" id="r_aab0feaba617470cb4aa830dc5935238c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab0feaba617470cb4aa830dc5935238c">KeyType</a> </td></tr>
<tr class="separator:aab0feaba617470cb4aa830dc5935238c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4add7b384745071cd408e912b35688ba" id="r_a4add7b384745071cd408e912b35688ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4add7b384745071cd408e912b35688ba">create</a> (<a class="el" href="#aab0feaba617470cb4aa830dc5935238c">KeyType</a> type, char *name)</td></tr>
<tr class="separator:a4add7b384745071cd408e912b35688ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a722731fa48682de7767147942b3ef932" id="r_a722731fa48682de7767147942b3ef932"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a722731fa48682de7767147942b3ef932">openIndex</a> (const char *name, <a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> **idxState)</td></tr>
<tr class="separator:a722731fa48682de7767147942b3ef932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16578eb3f820b442ffb20804ac53d432" id="r_a16578eb3f820b442ffb20804ac53d432"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16578eb3f820b442ffb20804ac53d432">closeIndex</a> (<a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> *idxState)</td></tr>
<tr class="separator:a16578eb3f820b442ffb20804ac53d432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aba3bdcb666f1b1b27f90b7721b96dc" id="r_a6aba3bdcb666f1b1b27f90b7721b96dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6aba3bdcb666f1b1b27f90b7721b96dc">beginTransaction</a> (<a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> **txn)</td></tr>
<tr class="separator:a6aba3bdcb666f1b1b27f90b7721b96dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f9492b309bc93a4c41e55d423a82c99" id="r_a4f9492b309bc93a4c41e55d423a82c99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f9492b309bc93a4c41e55d423a82c99">abortTransaction</a> (<a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *txn)</td></tr>
<tr class="separator:a4f9492b309bc93a4c41e55d423a82c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f4f1874a9e2143895139ff874d04f63" id="r_a9f4f1874a9e2143895139ff874d04f63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f4f1874a9e2143895139ff874d04f63">commitTransaction</a> (<a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *txn)</td></tr>
<tr class="separator:a9f4f1874a9e2143895139ff874d04f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70f5c8c36df746509fa19ea33f03388e" id="r_a70f5c8c36df746509fa19ea33f03388e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70f5c8c36df746509fa19ea33f03388e">get</a> (<a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> *idxState, <a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *txn, <a class="el" href="struct_record.html">Record</a> *record)</td></tr>
<tr class="separator:a70f5c8c36df746509fa19ea33f03388e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af885c9aed08c993f8dc3b64c24739643" id="r_af885c9aed08c993f8dc3b64c24739643"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af885c9aed08c993f8dc3b64c24739643">getNext</a> (<a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> *idxState, <a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *txn, <a class="el" href="struct_record.html">Record</a> *record)</td></tr>
<tr class="separator:af885c9aed08c993f8dc3b64c24739643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b78aefdab6d4b675ab9e3da45ec26b9" id="r_a5b78aefdab6d4b675ab9e3da45ec26b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b78aefdab6d4b675ab9e3da45ec26b9">insertRecord</a> (<a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> *idxState, <a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *txn, <a class="el" href="struct_key.html">Key</a> *k, const char *payload)</td></tr>
<tr class="separator:a5b78aefdab6d4b675ab9e3da45ec26b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d765a095b8ef2688056cfc92e004884" id="r_a5d765a095b8ef2688056cfc92e004884"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d765a095b8ef2688056cfc92e004884">deleteRecord</a> (<a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> *idxState, <a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *txn, <a class="el" href="struct_record.html">Record</a> *record)</td></tr>
<tr class="separator:a5d765a095b8ef2688056cfc92e004884"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a58fffb055ae1b24f4d84fbd5be4c9899" name="a58fffb055ae1b24f4d84fbd5be4c9899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58fffb055ae1b24f4d84fbd5be4c9899">&#9670;&#160;</a></span>MAX_PAYLOAD_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PAYLOAD_LEN&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specifies the maximum size for a payload. </p>

</div>
</div>
<a id="a547666ca254a1101bbcdcea92b6afc20" name="a547666ca254a1101bbcdcea92b6afc20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a547666ca254a1101bbcdcea92b6afc20">&#9670;&#160;</a></span>MAX_VARCHAR_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_VARCHAR_LEN&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specifies the maximum size for a varchar key. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ab9d725b4aff7c0517845ef965effeff8" name="ab9d725b4aff7c0517845ef965effeff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9d725b4aff7c0517845ef965effeff8">&#9670;&#160;</a></span>ErrCode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> <a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Status messages for outcomes of API calls. </p>

</div>
</div>
<a id="a4b5b0c554be7fd5f61be8d47969f863d" name="a4b5b0c554be7fd5f61be8d47969f863d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b5b0c554be7fd5f61be8d47969f863d">&#9670;&#160;</a></span>IdxState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> <a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implementation-specific data stored in this variable, used to identify a thread's state </p>

</div>
</div>
<a id="aebca81f4ddfb9b7666ad58d35d0f7300" name="aebca81f4ddfb9b7666ad58d35d0f7300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebca81f4ddfb9b7666ad58d35d0f7300">&#9670;&#160;</a></span>KeyType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="#aab0feaba617470cb4aa830dc5935238c">KeyType</a> <a class="el" href="#aab0feaba617470cb4aa830dc5935238c">KeyType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Three possible key types. </p>

</div>
</div>
<a id="afc666b2db4911d18d123a5b4a0eec84c" name="afc666b2db4911d18d123a5b4a0eec84c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc666b2db4911d18d123a5b4a0eec84c">&#9670;&#160;</a></span>TxnState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> <a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implementation-specific data stored in this variable, used to identify a transaction across Indices and store any information necessary for the implementation. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a072137da885565f4c2f9e9116485659a" name="a072137da885565f4c2f9e9116485659a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a072137da885565f4c2f9e9116485659a">&#9670;&#160;</a></span>ErrCode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Status messages for outcomes of API calls. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a072137da885565f4c2f9e9116485659aac7f69f7c9e5aea9b8f54cf02870e2bf8" name="a072137da885565f4c2f9e9116485659aac7f69f7c9e5aea9b8f54cf02870e2bf8"></a>SUCCESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a072137da885565f4c2f9e9116485659aab98711710ea59cddfea3f14e98e5aba9" name="a072137da885565f4c2f9e9116485659aab98711710ea59cddfea3f14e98e5aba9"></a>DB_DNE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a072137da885565f4c2f9e9116485659aa0a9b6942514fcc7bc5161bccefe895fc" name="a072137da885565f4c2f9e9116485659aa0a9b6942514fcc7bc5161bccefe895fc"></a>DB_EXISTS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a072137da885565f4c2f9e9116485659aaf63e7c9717995155565d55f110dca2ba" name="a072137da885565f4c2f9e9116485659aaf63e7c9717995155565d55f110dca2ba"></a>DB_END&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a072137da885565f4c2f9e9116485659aaa7cc3471fdc2cec41f28f98e805dd412" name="a072137da885565f4c2f9e9116485659aaa7cc3471fdc2cec41f28f98e805dd412"></a>KEY_NOTFOUND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a072137da885565f4c2f9e9116485659aa1927f68923be7a86cf604dd5990cd684" name="a072137da885565f4c2f9e9116485659aa1927f68923be7a86cf604dd5990cd684"></a>TXN_EXISTS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a072137da885565f4c2f9e9116485659aab35a0aba7afc7d399f727c7ff7524b75" name="a072137da885565f4c2f9e9116485659aab35a0aba7afc7d399f727c7ff7524b75"></a>TXN_DNE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a072137da885565f4c2f9e9116485659aac1b5fe866527518c92afa82b7f805521" name="a072137da885565f4c2f9e9116485659aac1b5fe866527518c92afa82b7f805521"></a>ENTRY_EXISTS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a072137da885565f4c2f9e9116485659aae37803a5f1a82f72df1c4a60c6ecf9e0" name="a072137da885565f4c2f9e9116485659aae37803a5f1a82f72df1c4a60c6ecf9e0"></a>ENTRY_DNE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a072137da885565f4c2f9e9116485659aa90c00e627508601d4524dc4ea4375b29" name="a072137da885565f4c2f9e9116485659aa90c00e627508601d4524dc4ea4375b29"></a>DEADLOCK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a072137da885565f4c2f9e9116485659aaa5571864412c8275a2e18a931fddcaa6" name="a072137da885565f4c2f9e9116485659aaa5571864412c8275a2e18a931fddcaa6"></a>FAILURE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="aab0feaba617470cb4aa830dc5935238c" name="aab0feaba617470cb4aa830dc5935238c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab0feaba617470cb4aa830dc5935238c">&#9670;&#160;</a></span>KeyType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#aab0feaba617470cb4aa830dc5935238c">KeyType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Three possible key types. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aab0feaba617470cb4aa830dc5935238ca7a1fe3ba88f0c16cb494922948a9597d" name="aab0feaba617470cb4aa830dc5935238ca7a1fe3ba88f0c16cb494922948a9597d"></a>SHORT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aab0feaba617470cb4aa830dc5935238cafd5a5f51ce25953f3db2c7e93eb7864a" name="aab0feaba617470cb4aa830dc5935238cafd5a5f51ce25953f3db2c7e93eb7864a"></a>INT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aab0feaba617470cb4aa830dc5935238caa45d14ff7805c0e137c82d2d193d607d" name="aab0feaba617470cb4aa830dc5935238caa45d14ff7805c0e137c82d2d193d607d"></a>VARCHAR&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4f9492b309bc93a4c41e55d423a82c99" name="a4f9492b309bc93a4c41e55d423a82c99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f9492b309bc93a4c41e55d423a82c99">&#9670;&#160;</a></span>abortTransaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> abortTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Forces the current transaction to abort, rolling back all changes made during the course of the transaction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txn</td><td>The state variable for the transaction being aborted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ErrCode SUCCESS if successfully aborted transaction. TXN_DNE if there was no transaction to abort. DEADLOCK if the abort failed because of deadlock. FAILURE if could not abort transaction for some other reason. </dd></dl>

</div>
</div>
<a id="a6aba3bdcb666f1b1b27f90b7721b96dc" name="a6aba3bdcb666f1b1b27f90b7721b96dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aba3bdcb666f1b1b27f90b7721b96dc">&#9670;&#160;</a></span>beginTransaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> beginTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> **</td>          <td class="paramname"><span class="paramname"><em>txn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals the beginning of a transaction. Each thread can have only one outstanding transaction running at a time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txn</td><td>Returns the transaction state for the new transaction. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ErrCode SUCCESS if successfully began transaction. TXN_EXISTS if there is already a transaction begun for this thread. DEADLOCK if this transaction had to be aborted because of deadlock. FAILURE if could not begin transaction for some other reason. </dd></dl>

</div>
</div>
<a id="a16578eb3f820b442ffb20804ac53d432" name="a16578eb3f820b442ffb20804ac53d432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16578eb3f820b442ffb20804ac53d432">&#9670;&#160;</a></span>closeIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> closeIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> *</td>          <td class="paramname"><span class="paramname"><em>idxState</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Terminate use of current index by this thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxState</td><td>The state variable for the index being closed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ErrCode SUCCESS if succesfully closed index. DB_DNE is the DB never existed or was already closed by someone else. FAILURE if could not close DB for some other reason. </dd></dl>

</div>
</div>
<a id="a9f4f1874a9e2143895139ff874d04f63" name="a9f4f1874a9e2143895139ff874d04f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f4f1874a9e2143895139ff874d04f63">&#9670;&#160;</a></span>commitTransaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> commitTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals the end of the current transaction, committing all changes created in the transaction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txn</td><td>The state variable for the transaction being committed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ErrCode SUCCESS if successfully ended transaction. TXN_DNE if there was no transaction currently open. DEADLOCK if this transaction could not be closed because of deadlock. FAILURE if could not end transaction for some other reason. </dd></dl>

</div>
</div>
<a id="a4add7b384745071cd408e912b35688ba" name="a4add7b384745071cd408e912b35688ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4add7b384745071cd408e912b35688ba">&#9670;&#160;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#aab0feaba617470cb4aa830dc5935238c">KeyType</a></td>          <td class="paramname"><span class="paramname"><em>type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new index data structure to be used by any thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>specifies what type of key the index will use </td></tr>
    <tr><td class="paramname">name</td><td>a unique name to be used to identify this index in any process </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ErrCode SUCCESS if successfully created index. DB_EXISTS if index with specified name already exists. FAILURE if could not create index for some other reason. </dd></dl>

</div>
</div>
<a id="a5d765a095b8ef2688056cfc92e004884" name="a5d765a095b8ef2688056cfc92e004884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d765a095b8ef2688056cfc92e004884">&#9670;&#160;</a></span>deleteRecord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> deleteRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> *</td>          <td class="paramname"><span class="paramname"><em>idxState</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_record.html">Record</a> *</td>          <td class="paramname"><span class="paramname"><em>record</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove the record associated with the given key from the index structure. If a payload is specified in the <a class="el" href="struct_record.html">Record</a>, then the key/payload pair specified is removed. Otherwise, the payload pointer is a length 0 string and all records with the given key are removed from the database. If this is called from outside of a transaction, it should commit immediately.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxState</td><td>The state variable for this thread </td></tr>
    <tr><td class="paramname">txn</td><td>The transaction state to be used (or NULL if not in a transaction) </td></tr>
    <tr><td class="paramname">record</td><td><a class="el" href="struct_record.html">Record</a> struct containing a <a class="el" href="struct_key.html">Key</a> and a char* payload (or NULL pointer) describing what is to be deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ErrCode SUCCESS if successfully deleted record from DB. ENTRY_DNE if the specified key/payload pair could not be found in the DB. KEY_NOTFOUND if the specified key could not be found in the DB, with only the key specified. DEADLOCK if this call could not complete because of deadlock. FAILURE if could not delete record for some other reason. </dd></dl>

</div>
</div>
<a id="a70f5c8c36df746509fa19ea33f03388e" name="a70f5c8c36df746509fa19ea33f03388e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70f5c8c36df746509fa19ea33f03388e">&#9670;&#160;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> *</td>          <td class="paramname"><span class="paramname"><em>idxState</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_record.html">Record</a> *</td>          <td class="paramname"><span class="paramname"><em>record</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the first record associated with the given key value; if more than one record exists with this key, return the first record with this key. Contents of the retrieved record are copied into the user supplied <a class="el" href="struct_record.html">Record</a> structure.</p>
<p>Records with the same key may be returned in any order, but it must be that if there are n records with the same key k, a call to get followed by n-1 calls to getNext will return all n records with key k.</p>
<p>If get returns KEY_NOTFOUND for a key k, the caller may invoke getNext to find the first key after key k.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxState</td><td>The state variable for this thread </td></tr>
    <tr><td class="paramname">txn</td><td>The transaction state to be used (or NULL if not in a transaction) </td></tr>
    <tr><td class="paramname">record</td><td><a class="el" href="struct_record.html">Record</a> containing the key being retrieved, into which the payload is copied. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ErrCode SUCCESS if successfully retrieved and returned unique record. KEY_NOTFOUND if specified key value was not found in the DB. <br  />
 DEADLOCK if this call could not complete because of deadlock. FAILURE if could not retrieve unique record for some other reason. </dd></dl>

</div>
</div>
<a id="af885c9aed08c993f8dc3b64c24739643" name="af885c9aed08c993f8dc3b64c24739643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af885c9aed08c993f8dc3b64c24739643">&#9670;&#160;</a></span>getNext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> getNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> *</td>          <td class="paramname"><span class="paramname"><em>idxState</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_record.html">Record</a> *</td>          <td class="paramname"><span class="paramname"><em>record</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the record following the previous record retrieved by get or getNext. If no such call has occurred since the current transaction began, or if this is called from outside of a transaction, this returns the first record in the index. Records are ordered in ascending order by key. Records with the same key but different payloads may be returned in any order.</p>
<p>If get returned KEY_NOT_FOUND for a key k, invoking getNext will return the first key after k.</p>
<p>If the index is closed and reopened, or a new transaction has begun since any previous call of get or getNext, getNext returns the first record in the index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxState</td><td>The state variable for the index whose next <a class="el" href="struct_record.html">Record</a> is to be returned </td></tr>
    <tr><td class="paramname">txn</td><td>The transaction state to be used (or NULL if not in a transaction) </td></tr>
    <tr><td class="paramname">record</td><td><a class="el" href="struct_record.html">Record</a> through which the next key/payload pair is returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ErrCode SUCCESS if successfully retrieved and returned the next record in the DB. DB_END if reached the end of the DB. DEADLOCK if this call could not complete because of deadlock. FAILURE if could not retrieve next record for some other reason. </dd></dl>

</div>
</div>
<a id="a5b78aefdab6d4b675ab9e3da45ec26b9" name="a5b78aefdab6d4b675ab9e3da45ec26b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b78aefdab6d4b675ab9e3da45ec26b9">&#9670;&#160;</a></span>insertRecord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> insertRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> *</td>          <td class="paramname"><span class="paramname"><em>idxState</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#afc666b2db4911d18d123a5b4a0eec84c">TxnState</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_key.html">Key</a> *</td>          <td class="paramname"><span class="paramname"><em>k</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert a payload associated with the given key. An identical key can be used multiple times, but only with unique payloads. If this is called from outside of a transaction, it should commit immediately. Records in an index are ordered in ascending order by key. Records with the same key may be stored in any order.</p>
<p>The implementation is responsible for making a copy of payload (e.g., it may not assume that the payload pointer continues to be valid after this routine returns.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxState</td><td>The state variable for this thread </td></tr>
    <tr><td class="paramname">txn</td><td>The transaction state to be used (or NULL if not in a transaction) </td></tr>
    <tr><td class="paramname">k</td><td>key value for insert </td></tr>
    <tr><td class="paramname">payload</td><td>Pointer to the beginning of the payload string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ErrCode SUCCESS if successfully inserted record into DB. ENTRY_EXISTS if identical record already exists in DB. DEADLOCK if this call could not complete because of deadlock. FAILURE if could not insert entry for some other reason. </dd></dl>

</div>
</div>
<a id="a722731fa48682de7767147942b3ef932" name="a722731fa48682de7767147942b3ef932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a722731fa48682de7767147942b3ef932">&#9670;&#160;</a></span>openIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a072137da885565f4c2f9e9116485659a">ErrCode</a> openIndex </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a4b5b0c554be7fd5f61be8d47969f863d">IdxState</a> **</td>          <td class="paramname"><span class="paramname"><em>idxState</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens a specific index data structure to be used by this thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the unique name specifying the index being opened </td></tr>
    <tr><td class="paramname">idxState</td><td>returns the state handle for the index being opened </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ErrCode SUCCESS if successfully opened index. DB_DNE if the name given does not have an associated DB that has been <a class="el" href="#a4add7b384745071cd408e912b35688ba">create()</a>d. FAILURE if DB exists but could not be opened for some other reason. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
